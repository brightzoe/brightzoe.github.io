<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-react/README">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="brightzoe&#39;s blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="brightzoe&#39;s blog Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="brightzoe&#39;s blog JSON Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-192447848-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-rh="true">React | brightzoe&#x27;s blog</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://brightzoe.top/docs/react"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="React | brightzoe&#x27;s blog"><meta data-rh="true" name="description" content="react ä¸ react-domåº“"><meta data-rh="true" property="og:description" content="react ä¸ react-domåº“"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://brightzoe.top/docs/react"><link data-rh="true" rel="alternate" href="https://brightzoe.top/docs/react" hreflang="en"><link data-rh="true" rel="alternate" href="https://brightzoe.top/docs/react" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.74761bf0.css">
<link rel="preload" href="/assets/js/runtime~main.0c8c21b7.js" as="script">
<link rel="preload" href="/assets/js/main.36c73f81.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">brightzoe&#x27;s blog</b></a><a class="navbar__item navbar__link" href="/docs/css/layout">HTML &amp; CSS</a><a class="navbar__item navbar__link" href="/docs/javascript/basic/data-types">JavaScript</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/react">React</a><a class="navbar__item navbar__link" href="/docs/data-structure">æ•°æ®ç»“æ„ä¸ç®—æ³•</a><a class="navbar__item navbar__link" href="/docs/business">ä¸šåŠ¡ä½¿ç”¨</a><a class="navbar__item navbar__link" href="/docs/tools/chrome-devtools">å·¥å…·æŠ€å·§</a><a class="navbar__item navbar__link" href="/blog">ç¢ç¢è°ˆ</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/brightzoe" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/react">React</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/react/hooks">React Hooks</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/react/advanced-react/useState">React è¿›é˜¶</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/react/advanced-react/useState">useState</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/react/advanced-react/useeffect">useEffect</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/react/controlled-and-uncontrolled-components">å—æ§ç»„ä»¶ä¸éå—æ§ç»„ä»¶</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/react/design-pattern-and-best-practices">React è®¾è®¡æ¨¡å¼å’Œæœ€ä½³å®è·µ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/react/pass-params-in-react">react-router å‰ç«¯è·¯ç”±ä¼ å‚æ–¹å¼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/react/where-to-save-data-in-react">å¦‚ä½•å­˜å‚¨ React ä¸­çš„æ•°æ®å’ŒçŠ¶æ€</a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/">ğŸ </a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">React</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>React</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="react-ä¸-react-domåº“"><code>react</code> ä¸ <code>react-dom</code>åº“<a class="hash-link" href="#react-ä¸-react-domåº“" title="Direct link to heading">â€‹</a></h2><p><code>react</code> package contains only the functionality necessary to define React components. It is typically used together with a React renderer like react-dom for the web.</p><p><code>react-dom</code> package serves as the entry point to the DOM and server renderers for React.</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">ReactDOM</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react-dom&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">ReactDOM</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">App</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getElementById</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;root&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="react-router-ä¸-react-router-domåº“"><code>react-router</code> ä¸ <code>react-router-dom</code>åº“<a class="hash-link" href="#react-router-ä¸-react-router-domåº“" title="Direct link to heading">â€‹</a></h2><p><code>react-router</code>æ˜¯è·¯ç”±æ ¸å¿ƒåº“ã€‚<code>react-router-dom</code>åŸºäº<code>react-router</code>ï¼ŒåŠ å…¥äº†ä¸€äº›åœ¨æµè§ˆå™¨è¿è¡Œçš„åŠŸèƒ½ï¼Œä¸ dom ç›¸å…³ã€‚ä¸€èˆ¬äºŒè€…è¦ä¸€èµ·ä½¿ç”¨ã€‚</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="é—®é¢˜æ±‡æ€»">é—®é¢˜æ±‡æ€»<a class="hash-link" href="#é—®é¢˜æ±‡æ€»" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="react-ç‰¹ç‚¹">React ç‰¹ç‚¹<a class="hash-link" href="#react-ç‰¹ç‚¹" title="Direct link to heading">â€‹</a></h3><p>JSX è¯­æ³•</p><p>å•å‘æ•°æ®æµ</p><p>è™šæ‹Ÿ DOM</p><p>ç»„ä»¶åŒ–</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="è™šæ‹Ÿ-dom">è™šæ‹Ÿ DOM<a class="hash-link" href="#è™šæ‹Ÿ-dom" title="Direct link to heading">â€‹</a></h3><p>è™šæ‹Ÿ DOM æ˜¯ç”¨æ¥æè¿° DOM ç»“æ„çš„ js å¯¹è±¡ï¼Œä¸æ˜¯çœŸå® DOMï¼Œä¸çœŸå®çš„ DOM ä¸€ä¸€å¯¹åº”ã€‚ä½¿ç”¨çš„ç›®çš„æ˜¯ä¸ºäº†æ›´å¥½åœ°æ¯”è¾ƒ DOM çš„å˜åŒ–ï¼Œä¸ç›´æ¥æ›´æ–° DOMã€‚</p><p>çœŸå® DOM æ›´æ–°ç¼“æ…¢ï¼Œä¼šç›´æ¥æ›´æ–° HTMLï¼Œæ“ä½œä»£ä»·é«˜ï¼Œå¼•èµ·é¡µé¢å›æµå’Œé‡ç»˜ï¼Œæ¶ˆè€—å†…å­˜å¤šã€‚</p><p>è™šæ‹Ÿ DOMï¼š</p><ol><li>react ä¸­æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œè™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“ã€‚</li><li>è®¡ç®—è™šæ‹Ÿ DOM ä¸ä¹‹å‰è™šæ‹Ÿ DOM çš„å·®å¼‚ã€‚</li><li>å°† DOM çš„å˜åŒ–ç”¨äºæ›´æ–°çœŸå® DOMã€‚</li></ol><p>è™šæ‹Ÿ DOM ä¸€å®šæ›´å¿«å—ï¼Ÿ</p><p>ä¸æ˜¯çš„ã€‚è™šæ‹Ÿ DOM ä¼šæœ‰å¤§é‡çš„è®¡ç®—ï¼Œä¸ä¸€å®šæ¯”ç›´æ¥æ“ä½œ DOM æ›´å¿«ã€‚è™šæ‹ŸDOM æé«˜äº†ä»£ç çš„æ€§èƒ½ä¸‹é™ï¼Œä¼˜åŒ–äº†å¤§é‡æ“ä½œDOM çš„æ€§èƒ½æŸè€—ã€‚</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="class-comp-ä¸-function-comp">Class Comp ä¸ Function Comp<a class="hash-link" href="#class-comp-ä¸-function-comp" title="Direct link to heading">â€‹</a></h3><ol><li><p>ç±»ç»„ä»¶ç›¸å¯¹<strong>å¤æ‚</strong>ï¼Œå¹¶ä¸”å«æœ‰ thisï¼Œæ¯”è¾ƒéš¾ä»¥ç†è§£ã€‚åœ¨ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­ï¼Œå¯èƒ½æœ‰å¾ˆå¤šä¸æƒ³ç®¡çš„é€»è¾‘ï¼Œè€Œå‡½æ•°ç»„ä»¶å¯ä»¥æŒ‰ç…§ä»£ç çš„ç”¨é€”æ‹†åˆ†ï¼Œåšåˆ°å…³æ³¨ç‚¹åˆ†ç¦»ã€‚</p></li><li><p>ç±»ç»„ä»¶ç›¸å¯¹è¾ƒå¤§ï¼Œä»é•¿è¿œè§’åº¦éš¾ä»¥ç»´æŠ¤ï¼Œè€Œ Hooks ç»„ä»¶ç›¸å¯¹è¾ƒçŸ­ï¼Œæ›´å®¹æ˜“æ‹†åˆ†ï¼Œå¯è¯»æ€§é«˜ä¹Ÿæ›´æ–¹ä¾¿ç»´æŠ¤ã€‚</p></li><li><p>å‡½æ•°ç»„ä»¶<strong>å¤ç”¨æˆæœ¬ä½</strong>ï¼Œæ›´å®¹æ˜“æŠ½è±¡å‡ºå•ç‹¬çš„ç»„ä»¶æˆ–å•ç‹¬çš„é€»è¾‘ã€‚</p></li><li><p>å‡½æ•°ç»„ä»¶æ›´åŠ çµæ´»ï¼Œæ›´é€‚åˆåšåˆ°é€»è¾‘å’Œ UI çš„è§£è€¦ã€‚ä½†ç±»ç»„ä»¶çš„é€»è¾‘ä¹Ÿæ›´æ¸…æ™°ï¼šæ„é€ å‡½æ•°ä»¥åŠç”Ÿå‘½å‘¨æœŸçš„è§’åº¦ã€‚</p></li><li><p>æ€è€ƒæ¨¡å¼ä¸åŒã€‚</p><p>Class ç»„ä»¶çš„æ¨¡å¼æ˜¯å…ˆåšä»€ä¹ˆå†åšä»€ä¹ˆï¼ŒæŒ‰ç…§æ—¶é—´ç»´åº¦åˆ’åˆ†ï¼Œæ¯”å¦‚ this.setState çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œæ¯”å¦‚ç”Ÿå‘½å‘¨æœŸçš„ä½¿ç”¨ã€‚</p><p>å‡½æ•°ç»„ä»¶çš„æ€è€ƒæ¨¡å¼æ˜¯ä¾èµ–ï¼Œå‰¯ä½œç”¨ã€‚å›´ç»•ç€ stateï¼Œprops çš„å˜åŒ–è€Œåšä»€ä¹ˆäº‹æƒ…ã€‚</p></li></ol><blockquote><p>å‡½æ•°å¼ç»„ä»¶æ•è·äº†æ¸²æŸ“æ‰€ä½¿ç”¨çš„å€¼ã€‚hooks è¿½æ±‚çš„æ˜¯æ¸²æŸ“ä¸€è‡´æ€§ï¼Œå½“æ‰§è¡Œä¸€äº›æ–¹æ³•æ—¶ï¼Œè¯»åˆ°çš„ state,props æ˜¯å½“æ—¶çš„çŠ¶æ€å¿«ç…§ï¼Œæ˜¯ä¸å¯å˜çš„ã€‚è€Œç±»ç»„ä»¶æœ‰ thisï¼Œthis.state/this.props ä¸Šçš„å€¼éƒ½æ˜¯å˜åŒ–çš„ã€‚---- <a href="https://overreacted.io/zh-hans/how-are-function-components-different-from-classes/" target="_blank" rel="noopener noreferrer">å‡½æ•°å¼ç»„ä»¶ä¸ç±»ç»„ä»¶æœ‰ä½•ä¸åŒï¼Ÿ â€” Overreacted</a></p></blockquote><h3 class="anchor anchorWithStickyNavbar_mojV" id="ä½¿ç”¨åŒºåˆ«">ä½¿ç”¨åŒºåˆ«<a class="hash-link" href="#ä½¿ç”¨åŒºåˆ«" title="Direct link to heading">â€‹</a></h3><p>class ç»„ä»¶</p><ol><li>éœ€è¦ç»§æ‰¿ã€‚</li><li>æœ‰ç»„ä»¶å®ä¾‹ã€‚</li><li>æœ‰ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚</li><li>æœ‰çŠ¶æ€ã€‚</li></ol><p>Function ç»„ä»¶</p><ol><li>æ— éœ€ç»§æ‰¿ã€‚</li><li>ä¸æ˜¯ new å‡ºæ¥çš„ï¼Œæ²¡æœ‰å®ä¾‹ã€‚React å†…éƒ¨æœ‰è¡¨ç¤ºè¯¥ç»„ä»¶çš„å¯¹è±¡ã€‚</li><li>æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚</li><li>ä»¥å‰æ²¡æœ‰çŠ¶æ€ï¼Œç°åœ¨ useState ç®—æ˜¯å®ƒçš„çŠ¶æ€ã€‚</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="react-å…ƒç´ ä¸ç»„ä»¶">React å…ƒç´ ä¸ç»„ä»¶<a class="hash-link" href="#react-å…ƒç´ ä¸ç»„ä»¶" title="Direct link to heading">â€‹</a></h3><p>react ç»„ä»¶å¯ä»¥ç”¨ jsx åˆ›å»ºï¼Œï¼ˆjsx æ˜¯<code>React.createElement</code>çš„ç®€å†™ï¼‰ï¼Œæ˜¯ react ä¸­çš„æœ€å°å•ä½ï¼Œå¹¶ä¸æ˜¯çœŸå®çš„ domï¼Œå®é™…æ˜¯ä¸€ä¸ª js å¯¹è±¡ã€‚</p><p>ç»„ä»¶ç”±å…ƒç´ æ„æˆï¼Œå…ƒç´ çš„æ•°æ®ç»“æ„æ˜¯å¯¹è±¡ï¼Œè€Œç»„ä»¶çš„æ•°æ®ç»“æ„æ˜¯ç±»æˆ–å‡½æ•°ã€‚</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="purecomponent">PureComponent<a class="hash-link" href="#purecomponent" title="Direct link to heading">â€‹</a></h3><p>è‡ªåŠ¨è°ƒç”¨ shouldComponentUpdateï¼Œæ¯”è¾ƒ props å’Œ stateï¼Œå¦‚æœæ²¡æœ‰å˜åŒ–ï¼Œä¸ä¼šè°ƒç”¨ renderã€‚</p><p>ä½¿ç”¨ Object.is è¿›è¡Œæµ…æ¯”è¾ƒã€‚</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="ç”Ÿå‘½å‘¨æœŸ">ç”Ÿå‘½å‘¨æœŸ<a class="hash-link" href="#ç”Ÿå‘½å‘¨æœŸ" title="Direct link to heading">â€‹</a></h3><p><img loading="lazy" src="https://s2.loli.net/2022/05/02/AcLCE2GQ8WsPOjh.png" class="img_E7b_"></p><ul><li><a href="https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/" target="_blank" rel="noopener noreferrer">React lifecycle methods diagram</a></li></ul><p>æŒ‚è½½é˜¶æ®µ</p><ol><li>constructor
åˆå§‹åŒ– stateï¼Œè¿›è¡Œæ–¹æ³•ç»‘å®š</li><li>static getDerivedStateFormProps
åœ¨åˆå§‹æŒ‚è½½åŠåç»­æ›´æ–°éƒ½ä¼šè¢«è°ƒç”¨ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡æ¥æ›´æ–° stateï¼Œstate çš„å€¼åœ¨ä»»ä½•æ—¶å€™éƒ½å–å†³äº props, å¦‚æœè¿”å› null åˆ™ä¸æ›´æ–°ä»»ä½•å†…å®¹ã€‚</li><li>render
æ¸²æŸ“ç»„ä»¶</li><li>componentDidMount
åœ¨ç»„ä»¶ç¬¬ä¸€æ¬¡æŒ‚è½½å®Œæˆï¼ˆæ¸²æŸ“åˆ° DOMï¼‰åè°ƒç”¨ï¼Œåªä¼šè¢«è°ƒç”¨ä¸€æ¬¡</li></ol><p>æ›´æ–°é˜¶æ®µ</p><ol><li><p>static getDerivedStateFromProps</p></li><li><p>shouldComponentUpdate(nextProps,nextState)
æ ¹æ®è¿”å›å€¼å†³å®šæ˜¯å¦æ›´æ–°ï¼Œè¿”å› true æ—¶æ‰ä¼šè°ƒç”¨ renderï¼Œè¿”å› false æ—¶ä¸ä¼šè°ƒç”¨ renderã€‚é»˜è®¤è¡Œä¸ºæ˜¯è¿”å› true ï¼Œæ¯æ¬¡ props æˆ– state å‘ç”Ÿå˜åŒ–éƒ½ä¼šè°ƒç”¨ã€‚</p></li><li><p>render()</p></li><li><p>getSnapshotBeforeUpdate(prevProps, prevState)
åœ¨ç»„ä»¶è¢«æ›´æ–°ä¹‹å‰è°ƒç”¨ï¼Œè¿”å›å€¼ä¼šä½œä¸º componentDidUpdate çš„ç¬¬ä¸‰ä¸ªå‚æ•°ã€‚</p><p>åœ¨æœ€è¿‘ä¸€æ¬¡æ¸²æŸ“è¾“å‡ºï¼ˆæäº¤åˆ° DOM èŠ‚ç‚¹ï¼‰ä¹‹å‰è°ƒç”¨ï¼Œè¿™ä¸ªå‡½æ•°è¿è¡Œå®ŒçœŸå® DOM ä¼šè¢«æ¸²æŸ“ã€‚å®ƒä½¿å¾—ç»„ä»¶èƒ½åœ¨å‘ç”Ÿæ›´æ”¹ä¹‹å‰ä» DOM ä¸­æ•è·ä¸€äº›ä¿¡æ¯ï¼ˆä¾‹å¦‚ï¼Œæ»šåŠ¨ä½ç½®ï¼‰</p></li><li><p>componentDidUpdate(prevProps, prevState, snapshot)</p></li></ol><p>å¸è½½é˜¶æ®µ</p><ol><li>componentWillUnmount() åœ¨ç»„ä»¶å¸è½½åŠé”€æ¯ä¹‹å‰ç›´æ¥è°ƒç”¨ã€‚åœ¨æ­¤æ–¹æ³•ä¸­æ‰§è¡Œå¿…è¦çš„æ¸…ç†æ“ä½œ</li></ol><h4 class="anchor anchorWithStickyNavbar_mojV" id="è¢«åºŸå¼ƒçš„ç”Ÿå‘½å‘¨æœŸ">è¢«åºŸå¼ƒçš„ç”Ÿå‘½å‘¨æœŸ<a class="hash-link" href="#è¢«åºŸå¼ƒçš„ç”Ÿå‘½å‘¨æœŸ" title="Direct link to heading">â€‹</a></h4><ul><li><code>componentWillMount</code></li><li><code>componentWillReceiveProps</code></li><li><code>componentWillUpdate</code></li></ul><p>åŸå› ï¼š</p><p>react æ¶æ„æˆ–æ¸²æŸ“æœºåˆ¶æ”¹å˜å¸¦æ¥çš„é—®é¢˜ã€‚æœ‰å‰¯ä½œç”¨ï¼Œåœ¨ render ä¹‹å‰æ‰§è¡Œï¼Œä¸èƒ½ä¿è¯å‰¯ä½œç”¨è¢«æ¸…é™¤ã€‚</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="é”™è¯¯è¾¹ç•Œ">é”™è¯¯è¾¹ç•Œ<a class="hash-link" href="#é”™è¯¯è¾¹ç•Œ" title="Direct link to heading">â€‹</a></h3><p>æ•è·å¹¶æ‰“å°åœ¨å­ç»„ä»¶çš„ js é”™è¯¯ï¼Œå¹¶æ¸²æŸ“å¤‡ç”¨ UI</p><p>åœ¨ class ç»„ä»¶ä¸­å®šä¹‰ <code>static getDerivedStateFromError</code>æˆ– <code>ComponentDidCatch</code>ï¼Œç„¶åç›´æ¥å½“ä½œå¸¸è§„ç»„ä»¶ä½¿ç”¨ï¼Œæ­¤ç»„ä»¶å°±ä¼šå½¢æˆé”™è¯¯å¢™(Error Boundary)ï¼Œé”™è¯¯ç»„ä»¶ä¸­å­ç»„ä»¶çš„é”™è¯¯ä¼šè¢«æ•è·ã€‚</p><p>ç±»ä¼¼åœ¨ç»„ä»¶å±‚é¢å®ç° try catch æœºåˆ¶ï¼Œä¸€èˆ¬åªéœ€è¦å£°æ˜ä¸€æ¬¡ï¼Œå¹¶åœ¨æ•´ä¸ªåº”ç”¨ä½¿ç”¨ã€‚</p><p>é”™è¯¯è¾¹ç•Œæ— æ³•æ•æ‰äº‹ä»¶å¤„ç†ã€å¼‚æ­¥ã€æœåŠ¡ç«¯æ¸²æŸ“ã€è‡ªèº«é”™è¯¯ç­‰éå­ç»„ä»¶çš„é”™è¯¯ã€‚</p><blockquote><p>äº‹ä»¶å¤„ç†å™¨ä¸ä¼šåœ¨æ¸²æŸ“é˜¶æ®µè§¦å‘ï¼Œå¯ä»¥åœ¨äº‹ä»¶å¤„ç†å†…éƒ¨ä½¿ç”¨ try catch è¯­å¥ã€‚</p></blockquote><h3 class="anchor anchorWithStickyNavbar_mojV" id="setstate-åŒæ­¥å¼‚æ­¥é—®é¢˜">setState åŒæ­¥å¼‚æ­¥é—®é¢˜<a class="hash-link" href="#setstate-åŒæ­¥å¼‚æ­¥é—®é¢˜" title="Direct link to heading">â€‹</a></h3><p>æœ¬èº«ä¸æ˜¯å¼‚æ­¥çš„ï¼Œä½†åœ¨è¡¨ç°ä¸Šæœ‰æ—¶åŒæ­¥ï¼Œæœ‰æ—¶å¼‚æ­¥ã€‚å› ä¸º setState éƒ½ä¼šè§¦å‘æ›´æ–°ï¼Œå°†å¤šä¸ªçŠ¶æ€åˆå¹¶æ›´æ–°ï¼Œå‡å°‘æ¸²æŸ“æ¬¡æ•°ã€‚</p><p>React æ—©æœŸï¼ˆä½¿ç”¨ Fiber æ¶æ„ä¹‹å‰ï¼‰å®ç°æ›´æ–°æ‰¹å¤„ç†å¯¼è‡´çš„ï¼Œæ›´æ–°ä¼˜å…ˆçº§çš„é—®é¢˜ï¼Œæ˜¯å¦å¤„äº batchUpdateã€‚</p><p>åœ¨ React çš„äº‹ä»¶å¤„ç†å‡½æ•°æˆ– React ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œstate çš„æ›´æ–°æ˜¯å¼‚æ­¥çš„ï¼Œæµè§ˆå™¨äº‹ä»¶å¤„ç†ç»“æŸåæ‰¹é‡åˆå¹¶åæ‰¹é‡æ›´æ–°ã€‚</p><p>åœ¨ setTimeout æˆ–åŸç”Ÿ dom äº‹ä»¶é‡Œæ˜¯åŒæ­¥æ›´æ–°çš„ã€‚</p><ul><li><a href="https://codesandbox.io/s/setstate-tongbuhuanshiyibu-1bo16?file=/src/App.js" target="_blank" rel="noopener noreferrer">setState åŒæ­¥è¿˜æ˜¯å¼‚æ­¥ï¼Ÿ - CodeSandbox</a></li></ul><div class="playgroundContainer_X_Ta"><div class="playgroundHeader_dyrN">Live Editor</div><div class="playgroundEditor_Q6Y7" style="position:relative;text-align:left;box-sizing:border-box;padding:0;overflow:hidden;white-space:pre;font-family:monospace;color:#393A34;background-color:#f6f8fa"><textarea style="margin:0;border:0;background:none;box-sizing:inherit;display:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-variant-ligatures:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;tab-size:inherit;text-indent:inherit;text-rendering:inherit;text-transform:inherit;white-space:pre-wrap;word-break:keep-all;overflow-wrap:break-word;position:absolute;top:0;left:0;height:100%;width:100%;resize:none;color:inherit;overflow:hidden;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-text-fill-color:transparent;padding-top:10px;padding-right:10px;padding-bottom:10px;padding-left:10px" class="npm__react-simple-code-editor__textarea" autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" data-gramm="false">class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      count: 0,
    };
  }
  componentDidMount() {
    this.setState({ count: this.state.count + 1 });
    console.log(&quot;1&quot;, this.state.count);
    this.setState({ count: this.state.count + 1 });
    console.log(&quot;2&quot;, this.state.count);
    setTimeout(() =&gt; {
      this.setState({ count: this.state.count + 1 });
      console.log(&quot;3&quot;, this.state.count);
    });
    setTimeout(() =&gt; {
      this.setState({ count: this.state.count + 1 });
      console.log(&quot;4&quot;, this.state.count);
    });
  }
  render() {
    return &lt;&gt;&lt;/&gt;;
  }
}</textarea><pre aria-hidden="true" style="margin:0;border:0;background:none;box-sizing:inherit;display:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-variant-ligatures:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;tab-size:inherit;text-indent:inherit;text-rendering:inherit;text-transform:inherit;white-space:pre-wrap;word-break:keep-all;overflow-wrap:break-word;position:relative;pointer-events:none;padding-top:10px;padding-right:10px;padding-bottom:10px;padding-left:10px"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">App</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">React</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">constructor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">componentDidMount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">count </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">count </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">count </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;3&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">count </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;4&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></pre><style>
/**
 * Reset the text fill color so that placeholder is visible
 */
.npm__react-simple-code-editor__textarea:empty {
  -webkit-text-fill-color: inherit !important;
}

/**
 * Hack to apply on some CSS on IE10 and IE11
 */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  /**
    * IE doesn't support '-webkit-text-fill-color'
    * So we use 'color: transparent' to make the text transparent on IE
    * Unlike other browsers, it doesn't affect caret color in IE
    */
  .npm__react-simple-code-editor__textarea {
    color: transparent !important;
  }

  .npm__react-simple-code-editor__textarea::selection {
    background-color: #accef7 !important;
    color: transparent !important;
  }
}
</style></div><div class="playgroundHeader_dyrN">Result</div><div class="playgroundPreview_DzOI"><div>Loading...</div></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="å—æ§ç»„ä»¶">å—æ§ç»„ä»¶<a class="hash-link" href="#å—æ§ç»„ä»¶" title="Direct link to heading">â€‹</a></h3><p>å—æ§ç»„ä»¶ï¼šé€šè¿‡ç»„ä»¶æ§åˆ¶ç”¨æˆ·è¾“å…¥çš„å€¼ï¼ŒåŒ…æ‹¬ value,onChange äº‹ä»¶ï¼Œæ•°æ®ç”± react ç»„ä»¶ç»´æŠ¤ã€‚ç»„ä»¶å¯¹å­ç»„ä»¶çš„å˜æ›´æœ‰æ§åˆ¶æƒã€‚</p><p>éå—æ§ç»„ä»¶ï¼šå¯ä»¥è®¾ç½® defaultValueï¼Œä½†ä¸èƒ½æ§åˆ¶å€¼çš„å˜æ›´ï¼Œå¯ä»¥é€šè¿‡ ref è·å–å½“å‰ç»„ä»¶çš„å€¼ã€‚</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="çŠ¶æ€æå‡">çŠ¶æ€æå‡<a class="hash-link" href="#çŠ¶æ€æå‡" title="Direct link to heading">â€‹</a></h3><p>å‡ ä¸ªç»„ä»¶å…±ç”¨çŠ¶æ€æ•°æ®ï¼Œå°†è¿™éƒ¨åˆ†çŠ¶æ€æå‡åˆ°ä»–ä»¬æœ€è¿‘çš„çˆ¶ç»„ä»¶è¿›è¡Œç®¡ç†ï¼Œå¹¶é€šè¿‡ props ä¼ ç»™å­ç»„ä»¶ä½¿ç”¨ã€‚</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="refs">Refs<a class="hash-link" href="#refs" title="Direct link to heading">â€‹</a></h3><p>ç”¨äºçˆ¶å…ƒç´ è®¿é—®å­å…ƒç´ çš„æ–¹æ³•ã€‚
ä¹Ÿå¯ä»¥ç”¨äºç¼“å­˜ä¸€ä¸ªå€¼ã€‚</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="context">Context<a class="hash-link" href="#context" title="Direct link to heading">â€‹</a></h3><p>è·¨å±‚çº§ç»„ä»¶æ•°æ®ä¼ é€’ã€‚</p><p>é€šè¿‡ç»„ä»¶æ ‘ä¼ é€’æ•°æ®çš„æ–¹æ³•ï¼Œå®ç°åœ¨ç»„ä»¶é—´å…±äº«æ•°æ®ï¼Œå¯ä»¥é¿å…ä¸€å±‚å±‚åœ°æ‰‹åŠ¨ props ä¼ é€’æ•°æ®ã€‚</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="ç»„ä»¶ä¼ å€¼çš„æ–¹å¼">ç»„ä»¶ä¼ å€¼çš„æ–¹å¼<a class="hash-link" href="#ç»„ä»¶ä¼ å€¼çš„æ–¹å¼" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="çˆ¶ä¼ å­">çˆ¶ä¼ å­<a class="hash-link" href="#çˆ¶ä¼ å­" title="Direct link to heading">â€‹</a></h4><p>props</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="å­ä¼ çˆ¶">å­ä¼ çˆ¶<a class="hash-link" href="#å­ä¼ çˆ¶" title="Direct link to heading">â€‹</a></h4><p>è°ƒç”¨çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„å‡½æ•°</p><p>classï¼š Refs æ‹¿åˆ°å­ç»„ä»¶çš„å®ä¾‹ï¼Œè°ƒç”¨å…¶æ–¹æ³•</p><p>hooksï¼šforwordRef+useImperativeHandle</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="å…„å¼Ÿç»„ä»¶">å…„å¼Ÿç»„ä»¶<a class="hash-link" href="#å…„å¼Ÿç»„ä»¶" title="Direct link to heading">â€‹</a></h4><p>çŠ¶æ€æå‡åˆ°å…¬å…±ç¥–å…ˆï¼Œå€Ÿå…¬å…±ç»„ä»¶ä¼ é€’</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="å…¶ä»–">å…¶ä»–<a class="hash-link" href="#å…¶ä»–" title="Direct link to heading">â€‹</a></h4><p>context</p><p>redux</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="portals-ä¼ é€é—¨">Portals ä¼ é€é—¨<a class="hash-link" href="#portals-ä¼ é€é—¨" title="Direct link to heading">â€‹</a></h3><p>å°†å­èŠ‚ç‚¹æ¸²æŸ“åˆ°å­˜åœ¨äºçˆ¶ç»„ä»¶ä»¥å¤–çš„ DOM èŠ‚ç‚¹ï¼Œå¸¸ç”¨äºå¯¹è¯æ¡†ã€æ‚¬æµ®å¡ä»¥åŠæç¤ºæ¡†ã€‚</p><p><code>ReactDOM.createPortal(child, container)</code> child æ˜¯ React å­å…ƒç´ ï¼Œcontainer æ˜¯ä¸€ä¸ª DOM å…ƒç´ ï¼Œchild ä¼šæ¸²æŸ“åˆ°å®¹å™¨é‡Œï¼Œè€Œä¸æ˜¯çˆ¶ç±»ï¼›ä½¿ç”¨åœ¨ç»„ä»¶çš„ render å‡½æ•°é‡Œã€‚</p><p>é™¤äº†åœ¨ DOM æ ‘ä¸­çš„ä½ç½®ï¼Œå…¶ä»–è¡Œä¸ºå’Œæ™®é€šçš„ react å­èŠ‚ç‚¹è¡Œä¸ºä¸€è‡´ã€‚ react å†…çš„äº‹ä»¶å¤„ç†é€»è¾‘ç­‰è¿˜æ˜¯åœ¨åŸæ¥çš„ react ç»„ä»¶ä¸­(æ¯”å¦‚å†’æ³¡)</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="ä¸ºä»€ä¹ˆå¿…é¡»åœ¨ç»„ä»¶çš„é¡¶å±‚ä½¿ç”¨-hook">ä¸ºä»€ä¹ˆå¿…é¡»åœ¨ç»„ä»¶çš„é¡¶å±‚ä½¿ç”¨ hook<a class="hash-link" href="#ä¸ºä»€ä¹ˆå¿…é¡»åœ¨ç»„ä»¶çš„é¡¶å±‚ä½¿ç”¨-hook" title="Direct link to heading">â€‹</a></h3><p>åªèƒ½åœ¨é¡¶å±‚ï¼Œä¸”ä¸èƒ½åœ¨å¾ªç¯/æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨ã€‚</p><p>React å†…éƒ¨ä½¿ç”¨é“¾è¡¨ï¼Œä¿å­˜æ¯ä¸ª hook è°ƒç”¨çš„é¡ºåºï¼Œå®Œå…¨ä¾èµ– hook çš„è°ƒç”¨é¡ºåºã€‚æ¯”å¦‚ä½¿ç”¨å¤šä¸ª useStateï¼Œéœ€è¦æŠŠæ¯ä¸ª state å’Œå¯¹åº”çš„ setState å…³è”ã€‚</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="fiber-æ¶æ„">Fiber æ¶æ„<a class="hash-link" href="#fiber-æ¶æ„" title="Direct link to heading">â€‹</a></h3><p>ç›¸å¯¹ä»¥å‰çš„é€’å½’æ›´æ–°ç»„ä»¶æœ‰ä¼˜åŠ¿ã€‚é€’å½’æ›´æ–°ç»„ä»¶ä¼šè®© JS è°ƒç”¨æ ˆå ç”¨å¾ˆé•¿æ—¶é—´ã€‚</p><p>Fiber å°†ç»„ä»¶åˆ†æ®µæ¸²æŸ“ï¼Œå»ºç«‹äº†ä¸€ä¸ªè™šæ‹Ÿæ ˆæœºåˆ¶ï¼Œå°†å„ä¸ªäº‹ä»¶çš„æ‰§è¡Œé¡ºåºè¿›è¡Œä¼˜åŒ–æ’åºï¼Œç„¶åæ‰§è¡Œã€‚</p><ol><li>è§£å†³ DOM æ ‘è¿‡æ·±åŒæ­¥æ¸²æŸ“æ•´ä¸ª DOM æ€§èƒ½ä¸‹é™é—®é¢˜</li><li>å°† DOM æ‹†åˆ†æ¸²æŸ“ï¼Œåˆ†ä¸åŒæ—¶é—´ç‰‡æ®µå¼‚æ­¥æ¸²æŸ“</li><li>ç”±äºå¼‚æ­¥çš„å­˜åœ¨ï¼Œæ ¹æ®ç”¨æˆ·è¡Œä¸ºçµæ´»è°ƒæ•´ DOM</li><li>å¼‚æ­¥æ¸²æŸ“å¯¼è‡´ render ä¹‹å‰çš„å‡½æ•°å¯èƒ½æ‰§è¡Œå¤šæ¬¡ï¼Œæ‰€æœ‰ render ä¹‹å‰çš„å‡½æ•°éƒ½å¿…é¡»æ˜¯çº¯å‡½æ•°/static æ–¹æ³•å‡½æ•°</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="reconciliation-è°ƒå’Œé˜¶æ®µ">reconciliation è°ƒå’Œé˜¶æ®µ<a class="hash-link" href="#reconciliation-è°ƒå’Œé˜¶æ®µ" title="Direct link to heading">â€‹</a></h3><ol><li>å°†ç›®æ ‡ state è®¡ç®—å‡ºè™šæ‹Ÿ DOM ç»“æ„ã€‚</li><li>DOM diff ï¼Œå¯»æ‰¾åˆ°ç›®æ ‡è™šæ‹Ÿ DOM çš„æœ€ä¼˜æ›´æ–°æ–¹æ¡ˆã€‚</li></ol><p>DOM diff:</p><p>æŒ‰ç…§æ·±åº¦ä¼˜å…ˆéå†æ–¹å¼ï¼Œ<strong>åŒå±‚çº§æ¯”è¾ƒ</strong>ä¸¤æ£µè™šæ‹Ÿ DOM æ ‘ã€‚</p><ol><li>æ—  <strong>key</strong> æ—¶ï¼Œæ•ˆç‡ä¸º O(n)ã€‚å…ˆå¯¹æ¯”æ ¹å…ƒç´ ï¼Œæ ¹<strong>å…ƒç´ ç±»å‹</strong>ä¸åŒå°±æ›¿æ¢ä¸ºæ–°çš„ï¼Œç±»å‹ç›¸åŒå°±æ¯”è¾ƒå±æ€§ï¼Œå±æ€§ä¸åŒå°±æ›¿æ¢ä¸ºæ–°çš„ï¼Œå±æ€§ç›¸åŒå°±æ¯”è¾ƒå­å…ƒç´ ï¼Œæ¯”è¾ƒæ–¹å¼ä¸æ ¹å…ƒç´ ä¸€è‡´ã€‚</li><li>æœ‰ <strong>key</strong> æ—¶ï¼Œæ–°æ—§è™šæ‹Ÿ DOM å¯¹æ¯”æ—¶ï¼Œkey ç›¸åŒçš„è¿›è¡Œå¯¹æ¯”ï¼Œå‡å°‘å¯¹æ¯”æ¬¡æ•°ã€‚</li></ol><p>è¿›è¡Œéå†ã€å¯¹æ¯”ç­‰æ“ä½œå¯ä»¥ä¸­æ–­ã€‚</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨-key">ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ key<a class="hash-link" href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨-key" title="Direct link to heading">â€‹</a></h4><p>DOM å¯¹æ¯”æ•ˆç‡ã€‚</p><p>key ç»™æ¯ä¸ªå…ƒç´ è®¾ç½®ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ï¼Œç”¨äºåˆ¤æ–­å…ƒç´ æ—¶æ–°åˆ›å»ºçš„è¿˜æ˜¯è¢«ç§»åŠ¨çš„ã€‚</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="key-ä¸ºä»€ä¹ˆæœ€å¥½ä¸è¦ç”¨-index">key ä¸ºä»€ä¹ˆæœ€å¥½ä¸è¦ç”¨ index<a class="hash-link" href="#key-ä¸ºä»€ä¹ˆæœ€å¥½ä¸è¦ç”¨-index" title="Direct link to heading">â€‹</a></h4><p>ç›¸åŒå­å…ƒç´ ç§»åŠ¨ä½ç½®ä¼šè¢«è®¤ä¸ºéƒ½æ˜¯æ–°å¢äº†ï¼Œè€Œä¸æ˜¯æ›¿æ¢äº†ï¼Œå½±å“å¯¹æ¯”æ•ˆç‡ã€‚</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="commit-é˜¶æ®µ">commit é˜¶æ®µ<a class="hash-link" href="#commit-é˜¶æ®µ" title="Direct link to heading">â€‹</a></h3><ol><li>å¯¹äº reconciliation åè°ƒé˜¶æ®µæ¯”è¾ƒå®Œæˆåï¼Œå°†è·å–åˆ°çš„å˜åŒ–éƒ¨åˆ†åº”ç”¨åˆ°çœŸå®çš„ DOM æ ‘ä¸Šã€‚</li><li>è°ƒç”¨æš´éœ²ç»™ç”¨æˆ·çš„é’©å­æ–¹æ³•ã€‚æ¯”å¦‚ ComponentDidUpdate/useLayoutEffect ç­‰ã€‚</li></ol><p>è¦ç»´æŠ¤è¾ƒå¤æ‚çš„ DOM çŠ¶æ€ï¼Œä¸­æ–­åå†ç»§ç»­ä¼šå¯¹ç”¨æˆ·ä½“éªŒé€ æˆå½±å“ã€‚ä¸€èˆ¬æ¥è¯´æ­¤é˜¶æ®µçš„è€—æ—¶æ¯” diff è®¡ç®—ç­‰è€—æ—¶å°‘ã€‚</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="è°ƒåº¦">è°ƒåº¦<a class="hash-link" href="#è°ƒåº¦" title="Direct link to heading">â€‹</a></h3><p>requestIdleCallback</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="react-äº‹ä»¶æœºåˆ¶">React äº‹ä»¶æœºåˆ¶<a class="hash-link" href="#react-äº‹ä»¶æœºåˆ¶" title="Direct link to heading">â€‹</a></h3><p>åˆæˆäº‹ä»¶ï¼šåŸºäºæµè§ˆå™¨çš„äº‹ä»¶æœºåˆ¶ï¼ŒReact è‡ªèº«å®ç°çš„äº‹ä»¶æœºåˆ¶ï¼ŒåŒ…æ‹¬äº‹ä»¶çš„æ³¨å†Œã€äº‹ä»¶åˆæˆã€äº‹ä»¶å†’æ³¡ã€äº‹ä»¶æ´¾å‘ç­‰ã€‚</p><p>äº‹ä»¶ä»£ç†ï¼šReact å¹¶ä¸ä¼šæŠŠäº‹ä»¶ç›´æ¥ç»‘å®šåœ¨å¯¹åº” DOM ä¸Šï¼Œåœ¨ document ä¸Šç›‘å¬æ‰€æœ‰æ”¯æŒçš„äº‹ä»¶ï¼Œå½“äº‹ä»¶å‘ç”Ÿå¹¶å†’æ³¡åˆ° document ä¸Šæ—¶ï¼Œé€šè¿‡ e.target æ‰¾åˆ°çœŸå®çš„è§¦å‘å…ƒç´ ï¼ŒReact ä¼šå°è£…äº‹ä»¶å†…å®¹ç»™ä¸­é—´å±‚ SyntheticEventï¼ˆåˆæˆäº‹ä»¶ï¼‰å¤„ç†ã€‚</p><p>å½“äº‹ä»¶è§¦å‘æ—¶ï¼Œä½¿ç”¨ç»Ÿä¸€çš„åˆ†å‘å‡½æ•° dispatchEvent æ¥åˆ†å‘äº‹ä»¶ã€‚</p><p>ä¸èƒ½é€šè¿‡è¿”å› false é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Œå¿…é¡»æ˜¾å¼ä½¿ç”¨ preventDefault()ã€‚</p><div class="playgroundContainer_X_Ta"><div class="playgroundHeader_dyrN">Live Editor</div><div class="playgroundEditor_Q6Y7" style="position:relative;text-align:left;box-sizing:border-box;padding:0;overflow:hidden;white-space:pre;font-family:monospace;color:#393A34;background-color:#f6f8fa"><textarea style="margin:0;border:0;background:none;box-sizing:inherit;display:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-variant-ligatures:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;tab-size:inherit;text-indent:inherit;text-rendering:inherit;text-transform:inherit;white-space:pre-wrap;word-break:keep-all;overflow-wrap:break-word;position:absolute;top:0;left:0;height:100%;width:100%;resize:none;color:inherit;overflow:hidden;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-text-fill-color:transparent;padding-top:10px;padding-right:10px;padding-bottom:10px;padding-left:10px" class="npm__react-simple-code-editor__textarea" autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" data-gramm="false">function Button() {
  const handleClick = (e) =&gt; console.log(&quot;e&quot;, e.nativeEvent); //e.nativeEvent ä¸Šä¸ºå¯¹åº”åŸç”Ÿäº‹ä»¶
  return &lt;button onClick={handleClick}&gt;click&lt;/button&gt;;
}</textarea><pre aria-hidden="true" style="margin:0;border:0;background:none;box-sizing:inherit;display:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-variant-ligatures:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;tab-size:inherit;text-indent:inherit;text-rendering:inherit;text-transform:inherit;white-space:pre-wrap;word-break:keep-all;overflow-wrap:break-word;position:relative;pointer-events:none;padding-top:10px;padding-right:10px;padding-bottom:10px;padding-left:10px"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Button</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">handleClick</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;e&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">nativeEvent</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//e.nativeEvent ä¸Šä¸ºå¯¹åº”åŸç”Ÿäº‹ä»¶</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">handleClick</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">click</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></pre><style>
/**
 * Reset the text fill color so that placeholder is visible
 */
.npm__react-simple-code-editor__textarea:empty {
  -webkit-text-fill-color: inherit !important;
}

/**
 * Hack to apply on some CSS on IE10 and IE11
 */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  /**
    * IE doesn't support '-webkit-text-fill-color'
    * So we use 'color: transparent' to make the text transparent on IE
    * Unlike other browsers, it doesn't affect caret color in IE
    */
  .npm__react-simple-code-editor__textarea {
    color: transparent !important;
  }

  .npm__react-simple-code-editor__textarea::selection {
    background-color: #accef7 !important;
    color: transparent !important;
  }
}
</style></div><div class="playgroundHeader_dyrN">Result</div><div class="playgroundPreview_DzOI"><div>Loading...</div></div></div><div class="playgroundContainer_X_Ta"><div class="playgroundHeader_dyrN">Live Editor</div><div class="playgroundEditor_Q6Y7" style="position:relative;text-align:left;box-sizing:border-box;padding:0;overflow:hidden;white-space:pre;font-family:monospace;color:#393A34;background-color:#f6f8fa"><textarea style="margin:0;border:0;background:none;box-sizing:inherit;display:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-variant-ligatures:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;tab-size:inherit;text-indent:inherit;text-rendering:inherit;text-transform:inherit;white-space:pre-wrap;word-break:keep-all;overflow-wrap:break-word;position:absolute;top:0;left:0;height:100%;width:100%;resize:none;color:inherit;overflow:hidden;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-text-fill-color:transparent;padding-top:10px;padding-right:10px;padding-bottom:10px;padding-left:10px" class="npm__react-simple-code-editor__textarea" autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" data-gramm="false">function EventOrder() {
  const parentRef = useRef();
  const childRef = useRef();
  useEffect(() =&gt; {
    console.log(&quot;å¼€å§‹æŒ‚è½½&quot;);
    const parentDom = parentRef.current;
    const childDom = childRef.current;
    function parentClick() {
      console.log(&quot;åŸç”Ÿäº‹ä»¶ï¼šparent&quot;);
    }
    function childClick() {
      console.log(&quot;åŸç”Ÿäº‹ä»¶ï¼šchild&quot;);
    }
    function documentClick(e) {
      console.log(&quot;åŸç”Ÿäº‹ä»¶ï¼šdocument&quot;, e);
    }
    parentDom.addEventListener(&quot;click&quot;, parentClick);
    parentDom.addEventListener(&quot;click&quot;, childClick);
    document.addEventListener(&quot;click&quot;, documentClick);
    return () =&gt; {
      parentDom &amp;&amp; parentDom.removeEventListener(&quot;click&quot;, parentClick);
      childDom &amp;&amp; childDom.removeEventListener(&quot;click&quot;, childClick);
      document.removeEventListener(&quot;click&quot;, documentClick);
    };
  }, []);
  const handleParentClick = () =&gt; {
    console.log(&quot;React äº‹ä»¶ï¼šparent&quot;);
  };
  const handleChildClick = () =&gt; {
    console.log(&quot;React äº‹ä»¶ï¼š child&quot;);
  };
  return (
    &lt;div ref={parentRef} onClick={handleParentClick}&gt;
      &lt;div ref={childRef} onClick={handleChildClick}&gt;
        åˆ†æäº‹ä»¶æ‰§è¡Œé¡ºåº
      &lt;/div&gt;
    &lt;/div&gt;
  );
}</textarea><pre aria-hidden="true" style="margin:0;border:0;background:none;box-sizing:inherit;display:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-variant-ligatures:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;tab-size:inherit;text-indent:inherit;text-rendering:inherit;text-transform:inherit;white-space:pre-wrap;word-break:keep-all;overflow-wrap:break-word;position:relative;pointer-events:none;padding-top:10px;padding-right:10px;padding-bottom:10px;padding-left:10px"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">EventOrder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> parentRef </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useRef</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> childRef </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useRef</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;å¼€å§‹æŒ‚è½½&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> parentDom </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> parentRef</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">current</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> childDom </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> childRef</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">current</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">parentClick</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;åŸç”Ÿäº‹ä»¶ï¼šparent&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">childClick</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;åŸç”Ÿäº‹ä»¶ï¼šchild&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">documentClick</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;åŸç”Ÿäº‹ä»¶ï¼šdocument&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    parentDom</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;click&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> parentClick</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    parentDom</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;click&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> childClick</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;click&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> documentClick</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      parentDom </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> parentDom</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">removeEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;click&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> parentClick</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      childDom </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> childDom</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">removeEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;click&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> childClick</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">removeEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;click&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> documentClick</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">handleParentClick</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;React äº‹ä»¶ï¼šparent&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">handleChildClick</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;React äº‹ä»¶ï¼š child&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">ref</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">parentRef</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">handleParentClick</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></div><div class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">ref</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">childRef</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">handleChildClick</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></div><div class="token-line" style="color:#393A34"><span class="token plain-text">        åˆ†æäº‹ä»¶æ‰§è¡Œé¡ºåº</span></div><div class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></div><div class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></pre><style>
/**
 * Reset the text fill color so that placeholder is visible
 */
.npm__react-simple-code-editor__textarea:empty {
  -webkit-text-fill-color: inherit !important;
}

/**
 * Hack to apply on some CSS on IE10 and IE11
 */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  /**
    * IE doesn't support '-webkit-text-fill-color'
    * So we use 'color: transparent' to make the text transparent on IE
    * Unlike other browsers, it doesn't affect caret color in IE
    */
  .npm__react-simple-code-editor__textarea {
    color: transparent !important;
  }

  .npm__react-simple-code-editor__textarea::selection {
    background-color: #accef7 !important;
    color: transparent !important;
  }
}
</style></div><div class="playgroundHeader_dyrN">Result</div><div class="playgroundPreview_DzOI"><div>Loading...</div></div></div><p>è¾“å‡ºé¡ºåºï¼š</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">å¼€å§‹æŒ‚è½½</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">åŸç”Ÿäº‹ä»¶ï¼šchild</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">åŸç”Ÿäº‹ä»¶ï¼šparent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">React äº‹ä»¶ï¼š child</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">React äº‹ä»¶ï¼šparent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">åŸç”Ÿäº‹ä»¶ï¼šdocument</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>çœŸå® DOM äº‹ä»¶å…ˆè§¦å‘ï¼Œå‘ä¸Šå†’æ³¡å¤„ç†çˆ¶å…ƒç´  DOM äº‹ä»¶ï¼Œåˆ°è¾¾ document å¤„ç† React äº‹ä»¶ã€‚æœ€åæ‰§è¡Œ document ä¸ŠæŒ‚è½½çš„äº‹ä»¶</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="ä¸ºä»€ä¹ˆä½¿ç”¨åˆæˆäº‹ä»¶">ä¸ºä»€ä¹ˆä½¿ç”¨åˆæˆäº‹ä»¶<a class="hash-link" href="#ä¸ºä»€ä¹ˆä½¿ç”¨åˆæˆäº‹ä»¶" title="Direct link to heading">â€‹</a></h4><p>å°†æ‰€æœ‰çš„äº‹ä»¶ç»‘å®šåœ¨ document ä¸Šï¼Œä½¿ç”¨ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ç»´æŒä¸€ä¸ªæ˜ å°„æ¥ä¿å­˜æ‰€æœ‰ç»„ä»¶å†…éƒ¨çš„äº‹ä»¶ç›‘å¬å’Œå¤„ç†å‡½æ•°ï¼Œç®€åŒ–äº‹ä»¶å¤„ç†å’Œå›æ”¶æœºåˆ¶ã€‚</p><ol><li>ä¸€å®šçš„å…¼å®¹é—®é¢˜ã€‚</li><li>èŠ‚çœå†…å­˜ï¼Œå…¨éƒ¨æŒ‚è½½ document ä¸Šï¼Œä¸ç”¨æ¯ä¸ªå…ƒç´ éƒ½æŒ‚è½½ã€‚</li><li>äº‹ä»¶ç»Ÿä¸€ç®¡ç†ï¼šäº‹åŠ¡æœºåˆ¶ã€‚</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="å¦‚ä½•å°è£…ç»„ä»¶">å¦‚ä½•å°è£…ç»„ä»¶<a class="hash-link" href="#å¦‚ä½•å°è£…ç»„ä»¶" title="Direct link to heading">â€‹</a></h3><p>æ¥æ”¶ä»€ä¹ˆå±æ€§</p><p>åŒ…å«ä»€ä¹ˆçŠ¶æ€</p><p>æ¸²æŸ“ä»€ä¹ˆç»“æ„</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="é«˜é˜¶ç»„ä»¶">é«˜é˜¶ç»„ä»¶<a class="hash-link" href="#é«˜é˜¶ç»„ä»¶" title="Direct link to heading">â€‹</a></h3><p>æ¥æ”¶ä¸€ä¸ªç»„ä»¶ï¼Œè¿”å›ä¸€ä¸ªç»„ä»¶</p><p>å°è£…é€»è¾‘å¤ç”¨ï¼Œå¸¸å¸¸ç”¨äºä¸æ ¸å¿ƒä¸šåŠ¡æ— å…³ä½†åˆåœ¨å¤šä¸ªæ¨¡å—ä½¿ç”¨çš„åŠŸèƒ½</p><p>æ¯”å¦‚ï¼šredux connect</p><div class="codeBlockContainer_I0IT language-jsx theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">withPersistentData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">WrappedComponent</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">extends</span><span class="token plain"> Component </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">componentDidMount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> localStorage</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getItem</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;data&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> data </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// é€šè¿‡{...this.props} æŠŠä¼ é€’ç»™å½“å‰ç»„ä»¶çš„å±æ€§ç»§ç»­ä¼ é€’ç»™è¢«åŒ…è£…çš„ç»„ä»¶WrappedComponent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">WrappedComponent</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">data</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript keyword" style="color:#00009f">this</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">state</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">data</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag spread punctuation" style="color:#393A34">{</span><span class="token tag spread operator" style="color:#393A34">...</span><span class="token tag spread keyword" style="color:#00009f">this</span><span class="token tag spread punctuation" style="color:#393A34">.</span><span class="token tag spread" style="color:#00009f">props</span><span class="token tag spread punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MyComponent2</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> MyComponentWithPersistentData </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">withPersistentData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MyComponent2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="å¦‚ä½•å®ç°è‡ªå®šä¹‰-hook">å¦‚ä½•å®ç°è‡ªå®šä¹‰ hook<a class="hash-link" href="#å¦‚ä½•å®ç°è‡ªå®šä¹‰-hook" title="Direct link to heading">â€‹</a></h3><h3 class="anchor anchorWithStickyNavbar_mojV" id="react-æ€§èƒ½ä¼˜åŒ–">React æ€§èƒ½ä¼˜åŒ–<a class="hash-link" href="#react-æ€§èƒ½ä¼˜åŒ–" title="Direct link to heading">â€‹</a></h3><p>æ ¸å¿ƒï¼šå‡å°‘ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ã€‚</p><p>è‰¯å¥½çš„ç»„ä»¶ç»“æ„ï¼ŒæŠŠå˜çš„éƒ¨åˆ†ä¸ä¸å˜çš„éƒ¨åˆ†åˆ†ç¦»ï¼Œåœ¨ä¸ä½¿ç”¨æ€§èƒ½ä¼˜åŒ– api çš„æƒ…å†µä¸‹å‡å°‘é‡æ–°æ¸²æŸ“ã€‚</p><p>shouldComponentUpdate/PureComponent/React.memo</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="redux">Redux<a class="hash-link" href="#redux" title="Direct link to heading">â€‹</a></h3><p>å¯¹æ‰€æœ‰çŠ¶æ€è¿›è¡Œé›†ä¸­ç®¡ç†çš„å®¹å™¨ã€‚</p><p>å½“åº”ç”¨å˜å¤æ‚ä¹‹åï¼Œæ¯ä¸ªç»„ä»¶è‡ªå·±ç®¡ç†çŠ¶æ€å·²ç»ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œè€Œ redux å¯ä»¥åšåˆ°å¯¹åº”ç”¨çŠ¶æ€è¿›è¡Œé›†ä¸­ç®¡ç†ï¼Œå½“éœ€è¦æ›´æ–°çŠ¶æ€æ—¶ï¼Œåªéœ€è¦ç»´æŠ¤è¿™ä¸ªé›†ä¸­çš„çŠ¶æ€ï¼Œè€Œä¸ç”¨å…³å¿ƒçŠ¶æ€æ—¶å¦‚ä½•åˆ†å‘åˆ°æ¯ä¸ªç»„ä»¶å†…éƒ¨çš„ã€‚</p><p>åŸºæœ¬åŸåˆ™ï¼š</p><ol><li>å•ä¸€æ•°æ®æºã€‚æ•´ä¸ªåº”ç”¨çš„çŠ¶æ€å­˜å‚¨åœ¨å•ä¸ª store å†…ã€‚</li><li>state åªè¯»ï¼Œæ”¹å˜çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯è§¦å‘ä¸€ä¸ªåŠ¨ä½œã€‚</li><li>ä½¿ç”¨çº¯å‡½æ•°è¿›è¡Œä¿®æ”¹ã€‚</li></ol><h4 class="anchor anchorWithStickyNavbar_mojV" id="å·¥ä½œåŸç†">å·¥ä½œåŸç†<a class="hash-link" href="#å·¥ä½œåŸç†" title="Direct link to heading">â€‹</a></h4><p>æ•°æ®éƒ½å­˜åœ¨ store å…¬å…±ç©ºé—´ï¼Œä¸€ä¸ªç»„ä»¶æ”¹å˜äº† store çš„æ•°æ®å†…å®¹ï¼Œå…¶ä»–ç»„ä»¶å°±èƒ½æ„ŸçŸ¥åˆ° store çš„å˜åŒ–ï¼Œå–åˆ°æœ€æ–°çš„æ•°æ®ï¼Œä»è€Œå®ç°ç»Ÿä¸€çŠ¶æ€ç®¡ç†çš„åŠŸèƒ½ã€‚</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="å·¥ä½œæµ">å·¥ä½œæµ<a class="hash-link" href="#å·¥ä½œæµ" title="Direct link to heading">â€‹</a></h4><p><img loading="lazy" src="https://img-blog.csdnimg.cn/20210518122733501.png#pic_center" alt="redux å·¥ä½œæµ" class="img_E7b_"></p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//action</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;SEND_EMAIL&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token literal-property property" style="color:#36acaa">payload</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> data</span><span class="token comment" style="color:#999988;font-style:italic">//å¯é€‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// action creator åˆ›å»ºaction çš„å‡½æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sendEmail</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;SEND_EMAIL&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">payload</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//reducer æ¥æ”¶ actionå’Œå½“å‰ stateï¼Œçº¯å‡½æ•°ä¸ä¼šæ”¹å˜ state ï¼Œè¿”å›æ–°çš„state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">emailReducer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">state </span><span class="token parameter operator" style="color:#393A34">=</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> action</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">switch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">action</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;SEND_EMAIL&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">assign</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token literal-property property" style="color:#36acaa">email</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> action</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">payload</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword module" style="color:#00009f">default</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="å¼‚æ­¥è¯·æ±‚">å¼‚æ­¥è¯·æ±‚<a class="hash-link" href="#å¼‚æ­¥è¯·æ±‚" title="Direct link to heading">â€‹</a></h4><p>é€šè¿‡ redux-thunk ä¸­é—´ä»¶å¤„ç†å¼‚æ­¥çŠ¶æ€ç®¡ç†è¯·æ±‚ã€‚redux-thunk å…è®¸æˆ‘ä»¬ dispatch ä¸€ä¸ªåŒ…å«å¼‚æ­¥å¤„ç†é€»è¾‘çš„å‡½æ•°ï¼ˆthunkï¼‰ã€‚</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="redux-ä¸­é—´ä»¶">Redux ä¸­é—´ä»¶<a class="hash-link" href="#redux-ä¸­é—´ä»¶" title="Direct link to heading">â€‹</a></h4><p>å…¶å®æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥æ‰©å±• redux ã€‚å…·ä½“ä½“ç°åœ¨å¯¹ action çš„å¤„ç†ä¸Šï¼Œå½“ç»„ä»¶è§¦å‘ä¸€ä¸ª action ï¼Œä¼šä¼˜å…ˆè¢«ä¸­é—´ä»¶å¤„ç†ï¼Œå½“ä¸­é—´ä»¶å¤„ç†å®Œä¹‹åæ‰ä¼šæŠŠ action ä¼ é€’ç»™ Reducerã€‚</p><p>å¸¸ç”¨ä¸­é—´ä»¶ï¼š</p><ul><li>redux-thunk
å¤„ç†å¼‚æ­¥è¯·æ±‚</li><li>redux-saga</li><li>redux-actions</li></ul><p>åŠ å…¥ä¸­é—´ä»¶å redux å·¥ä½œæµç¨‹ï¼š</p><p><img loading="lazy" src="https://img-blog.csdnimg.cn/20210519183134715.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0MTgyMjg0,size_16,color_FFFFFF,t_70#pic_center" alt="åŠ å…¥ä¸­é—´ä»¶åredux å·¥ä½œæµç¨‹" class="img_E7b_"></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="react-redux-ä½¿ç”¨">react-redux ä½¿ç”¨<a class="hash-link" href="#react-redux-ä½¿ç”¨" title="Direct link to heading">â€‹</a></h4><p>react-redux å°†ç»„ä»¶åˆ†æˆï¼š</p><ul><li><p>å®¹å™¨ç»„ä»¶ï¼šå­˜åœ¨é€»è¾‘å¤„ç†</p></li><li><p>UI ç»„ä»¶ï¼šåªè´Ÿè´£ç°æ˜¾ç¤ºå’Œäº¤äº’ï¼Œå†…éƒ¨ä¸å¤„ç†é€»è¾‘ï¼ŒçŠ¶æ€ç”±å¤–éƒ¨æ§åˆ¶</p></li></ul><p>é€šè¿‡ redux å°†æ•´ä¸ªåº”ç”¨çŠ¶æ€å­˜å‚¨åˆ° store ä¸­ï¼Œç»„ä»¶å¯ä»¥æ´¾å‘ dispatch è¡Œä¸º action ç»™ storeï¼Œå…¶ä»–ç»„ä»¶é€šè¿‡è®¢é˜… store ä¸­çš„çŠ¶æ€ state æ¥æ›´æ–°è‡ªèº«çš„è§†å›¾</p><p>ç»„ä»¶ä½¿ç”¨ï¼š</p><div class="codeBlockContainer_I0IT language-jsx theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Provider </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react-redux&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Provider store </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">App</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Provider</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_I0IT language-jsx theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> connect </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react-redux&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">handleSubmit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// dispatch an action</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sendEmail</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">email</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// you are mapping you state props</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">mapStateToProps</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> ownProps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">user</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">user </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// you are binding your action creators to your props</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">mapDispatchToProps</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">dispatch</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sendEmailDispatch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token function" style="color:#d73a49">dispatch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">sendEmail</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mapStateToProps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mapDispatchToProps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">User</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="é¡¹ç›®ç»„ç»‡æ–¹å¼">é¡¹ç›®ç»„ç»‡æ–¹å¼<a class="hash-link" href="#é¡¹ç›®ç»„ç»‡æ–¹å¼" title="Direct link to heading">â€‹</a></h4><ol><li>æŒ‰è§’è‰²ç»„ç»‡</li></ol><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">reducers/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  todoReducer.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  filterReducer.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">actions/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  todoAction.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  filterActions.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">components/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  todoList.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  todoItem.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  filter.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">containers/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  todoListContainer.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  todoItemContainer.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  filterContainer.js</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ol start="2"><li>æŒ‰ä¸šåŠ¡æ¨¡å—ç»„ç»‡</li></ol><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">todoList/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  actions.js //å®šä¹‰ actionåˆ›å»ºå‡½æ•°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  actionTypes.js //å®šä¹‰ action ç±»å‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  index.js //æŠŠæ‰€æœ‰çš„è§’è‰²å¯¼å…¥ï¼Œç»Ÿä¸€å¯¼å‡º</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  reducer.js //å“åº”actionsçš„åŠ¨ä½œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  views/ //åŠŸèƒ½æ¨¡å—ä¸­æ‰€æœ‰çš„Reactç»„ä»¶ï¼ŒåŒ…æ‹¬å±•ç¤ºç»„ä»¶å’Œå®¹å™¨ç»„ä»¶</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    components.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    containers.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">filter/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  actions.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  actionTypes.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  index.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  reducer.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  views/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    components.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    container.js</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="ç›¸å…³ç”Ÿæ€å¸¸ç”¨çš„åº“">ç›¸å…³ç”Ÿæ€ï¼Œå¸¸ç”¨çš„åº“<a class="hash-link" href="#ç›¸å…³ç”Ÿæ€å¸¸ç”¨çš„åº“" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="åŠ¨ç”»">åŠ¨ç”»<a class="hash-link" href="#åŠ¨ç”»" title="Direct link to heading">â€‹</a></h3><ul><li><a href="https://react-spring.io/" target="_blank" rel="noopener noreferrer">react-spring</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="future-learning">Future Learning<a class="hash-link" href="#future-learning" title="Direct link to heading">â€‹</a></h2><p>//todo:</p><ul><li><a href="https://juejin.cn/post/7075701341997236261#heading-5" target="_blank" rel="noopener noreferrer">React Hooks çš„åŸç†ï¼Œæœ‰çš„ç®€å•æœ‰çš„ä¸ç®€å• - æ˜é‡‘</a></li><li><a href="https://www.yuque.com/lxylona/note/nz6gk4" target="_blank" rel="noopener noreferrer">Hooks æ•°æ®æµ Â· è¯­é›€</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="references">References<a class="hash-link" href="#references" title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://mp.weixin.qq.com/s/w33yWPg-CO0FBAZbPS_gdg" target="_blank" rel="noopener noreferrer">ã€å¾®ä¿¡å…¬ä¼—å·ï¼šJS æ¯æ—¥ä¸€é¢˜ 2021-07-16 08:31ã€‘è¯´è¯´ä½ å¯¹ Redux çš„ç†è§£ï¼Ÿå…¶å·¥ä½œåŸç†ï¼Ÿ</a></li><li><a href="https://mp.weixin.qq.com/s/fJqZqgQQkHyBjdnnyUB5uA" target="_blank" rel="noopener noreferrer">ã€å¾®ä¿¡å…¬ä¼—å·ï¼šJS æ¯æ—¥ä¸€é¢˜ 2021-07-20 08:31ã€‘é¢è¯•å®˜ï¼šä½ åœ¨ React é¡¹ç›®ä¸­æ˜¯å¦‚ä½•ä½¿ç”¨ Redux çš„? é¡¹ç›®ç»“æ„æ˜¯å¦‚ä½•åˆ’åˆ†çš„ï¼Ÿ</a></li><li><a href="https://mp.weixin.qq.com/s/33iiPeWUyNTtGxN5UkZ5xA" target="_blank" rel="noopener noreferrer">ã€å¾®ä¿¡å…¬ä¼—å·ï¼šJS æ¯æ—¥ä¸€é¢˜ 2021-07-12 08:31ã€‘é¢è¯•å®˜ï¼šè¯´è¯´å¯¹é«˜é˜¶ç»„ä»¶çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯?</a></li><li><a href="https://mp.weixin.qq.com/s/gKYU8rIXPM5qiItxuu_HMw" target="_blank" rel="noopener noreferrer">ã€å¾®ä¿¡å…¬ä¼—å·ï¼šJS æ¯æ—¥ä¸€é¢˜ 2021-06-30 08:31ã€‘é¢è¯•å®˜ï¼šè¯´è¯´å¯¹ React äº‹ä»¶æœºåˆ¶çš„ç†è§£ï¼Ÿ</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/brightzoe/brightzoe.github.io/edit/main/docs/react/README.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-05-08T16:42:23.000Z">5/8/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/react/hooks"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">React Hooks</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#react-ä¸-react-domåº“" class="table-of-contents__link toc-highlight"><code>react</code> ä¸ <code>react-dom</code>åº“</a></li><li><a href="#react-router-ä¸-react-router-domåº“" class="table-of-contents__link toc-highlight"><code>react-router</code> ä¸ <code>react-router-dom</code>åº“</a></li><li><a href="#é—®é¢˜æ±‡æ€»" class="table-of-contents__link toc-highlight">é—®é¢˜æ±‡æ€»</a><ul><li><a href="#react-ç‰¹ç‚¹" class="table-of-contents__link toc-highlight">React ç‰¹ç‚¹</a></li><li><a href="#è™šæ‹Ÿ-dom" class="table-of-contents__link toc-highlight">è™šæ‹Ÿ DOM</a></li><li><a href="#class-comp-ä¸-function-comp" class="table-of-contents__link toc-highlight">Class Comp ä¸ Function Comp</a></li><li><a href="#ä½¿ç”¨åŒºåˆ«" class="table-of-contents__link toc-highlight">ä½¿ç”¨åŒºåˆ«</a></li><li><a href="#react-å…ƒç´ ä¸ç»„ä»¶" class="table-of-contents__link toc-highlight">React å…ƒç´ ä¸ç»„ä»¶</a></li><li><a href="#purecomponent" class="table-of-contents__link toc-highlight">PureComponent</a></li><li><a href="#ç”Ÿå‘½å‘¨æœŸ" class="table-of-contents__link toc-highlight">ç”Ÿå‘½å‘¨æœŸ</a><ul><li><a href="#è¢«åºŸå¼ƒçš„ç”Ÿå‘½å‘¨æœŸ" class="table-of-contents__link toc-highlight">è¢«åºŸå¼ƒçš„ç”Ÿå‘½å‘¨æœŸ</a></li></ul></li><li><a href="#é”™è¯¯è¾¹ç•Œ" class="table-of-contents__link toc-highlight">é”™è¯¯è¾¹ç•Œ</a></li><li><a href="#setstate-åŒæ­¥å¼‚æ­¥é—®é¢˜" class="table-of-contents__link toc-highlight">setState åŒæ­¥å¼‚æ­¥é—®é¢˜</a></li><li><a href="#å—æ§ç»„ä»¶" class="table-of-contents__link toc-highlight">å—æ§ç»„ä»¶</a></li><li><a href="#çŠ¶æ€æå‡" class="table-of-contents__link toc-highlight">çŠ¶æ€æå‡</a></li><li><a href="#refs" class="table-of-contents__link toc-highlight">Refs</a></li><li><a href="#context" class="table-of-contents__link toc-highlight">Context</a></li><li><a href="#ç»„ä»¶ä¼ å€¼çš„æ–¹å¼" class="table-of-contents__link toc-highlight">ç»„ä»¶ä¼ å€¼çš„æ–¹å¼</a><ul><li><a href="#çˆ¶ä¼ å­" class="table-of-contents__link toc-highlight">çˆ¶ä¼ å­</a></li><li><a href="#å­ä¼ çˆ¶" class="table-of-contents__link toc-highlight">å­ä¼ çˆ¶</a></li><li><a href="#å…„å¼Ÿç»„ä»¶" class="table-of-contents__link toc-highlight">å…„å¼Ÿç»„ä»¶</a></li><li><a href="#å…¶ä»–" class="table-of-contents__link toc-highlight">å…¶ä»–</a></li></ul></li><li><a href="#portals-ä¼ é€é—¨" class="table-of-contents__link toc-highlight">Portals ä¼ é€é—¨</a></li><li><a href="#ä¸ºä»€ä¹ˆå¿…é¡»åœ¨ç»„ä»¶çš„é¡¶å±‚ä½¿ç”¨-hook" class="table-of-contents__link toc-highlight">ä¸ºä»€ä¹ˆå¿…é¡»åœ¨ç»„ä»¶çš„é¡¶å±‚ä½¿ç”¨ hook</a></li><li><a href="#fiber-æ¶æ„" class="table-of-contents__link toc-highlight">Fiber æ¶æ„</a></li><li><a href="#reconciliation-è°ƒå’Œé˜¶æ®µ" class="table-of-contents__link toc-highlight">reconciliation è°ƒå’Œé˜¶æ®µ</a><ul><li><a href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨-key" class="table-of-contents__link toc-highlight">ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ key</a></li><li><a href="#key-ä¸ºä»€ä¹ˆæœ€å¥½ä¸è¦ç”¨-index" class="table-of-contents__link toc-highlight">key ä¸ºä»€ä¹ˆæœ€å¥½ä¸è¦ç”¨ index</a></li></ul></li><li><a href="#commit-é˜¶æ®µ" class="table-of-contents__link toc-highlight">commit é˜¶æ®µ</a></li><li><a href="#è°ƒåº¦" class="table-of-contents__link toc-highlight">è°ƒåº¦</a></li><li><a href="#react-äº‹ä»¶æœºåˆ¶" class="table-of-contents__link toc-highlight">React äº‹ä»¶æœºåˆ¶</a><ul><li><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨åˆæˆäº‹ä»¶" class="table-of-contents__link toc-highlight">ä¸ºä»€ä¹ˆä½¿ç”¨åˆæˆäº‹ä»¶</a></li></ul></li><li><a href="#å¦‚ä½•å°è£…ç»„ä»¶" class="table-of-contents__link toc-highlight">å¦‚ä½•å°è£…ç»„ä»¶</a></li><li><a href="#é«˜é˜¶ç»„ä»¶" class="table-of-contents__link toc-highlight">é«˜é˜¶ç»„ä»¶</a></li><li><a href="#å¦‚ä½•å®ç°è‡ªå®šä¹‰-hook" class="table-of-contents__link toc-highlight">å¦‚ä½•å®ç°è‡ªå®šä¹‰ hook</a></li><li><a href="#react-æ€§èƒ½ä¼˜åŒ–" class="table-of-contents__link toc-highlight">React æ€§èƒ½ä¼˜åŒ–</a></li><li><a href="#redux" class="table-of-contents__link toc-highlight">Redux</a><ul><li><a href="#å·¥ä½œåŸç†" class="table-of-contents__link toc-highlight">å·¥ä½œåŸç†</a></li><li><a href="#å·¥ä½œæµ" class="table-of-contents__link toc-highlight">å·¥ä½œæµ</a></li><li><a href="#å¼‚æ­¥è¯·æ±‚" class="table-of-contents__link toc-highlight">å¼‚æ­¥è¯·æ±‚</a></li><li><a href="#redux-ä¸­é—´ä»¶" class="table-of-contents__link toc-highlight">Redux ä¸­é—´ä»¶</a></li><li><a href="#react-redux-ä½¿ç”¨" class="table-of-contents__link toc-highlight">react-redux ä½¿ç”¨</a></li><li><a href="#é¡¹ç›®ç»„ç»‡æ–¹å¼" class="table-of-contents__link toc-highlight">é¡¹ç›®ç»„ç»‡æ–¹å¼</a></li></ul></li></ul></li><li><a href="#ç›¸å…³ç”Ÿæ€å¸¸ç”¨çš„åº“" class="table-of-contents__link toc-highlight">ç›¸å…³ç”Ÿæ€ï¼Œå¸¸ç”¨çš„åº“</a><ul><li><a href="#åŠ¨ç”»" class="table-of-contents__link toc-highlight">åŠ¨ç”»</a></li></ul></li><li><a href="#future-learning" class="table-of-contents__link toc-highlight">Future Learning</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ä¼˜ç§€åšå®¢æ¨è</div><ul class="footer__items"><li class="footer__item"><a href="https://sadofriod.github.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ashes Born&#x27;s Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://overreacted.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Overreacted - Dan Abramov<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">  </div><ul class="footer__items"></ul></div><div class="col footer__col"><div class="footer__title">ä¼˜ç§€åšå®¢æ¨è</div><ul class="footer__items"><li class="footer__item"><a href="https://sadofriod.github.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ashes Born&#x27;s Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://overreacted.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Overreacted - Dan Abramov<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 brightzoe's blog, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.0c8c21b7.js"></script>
<script src="/assets/js/main.36c73f81.js"></script>
</body>
</html>